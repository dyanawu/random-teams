(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},26:function(e,t,a){e.exports=a(36)},31:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),s=a.n(o),c=a(23),l=a(10),p=(a(31),a(11)),u=a(5),i=a(6),m=a(8),h=a(7),f=a(9),d=(a(15),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).submitHandler=function(e){if(13===e.keyCode){var t=e.target.value.trim();t.length<1?alert("Please enter a name!"):a.props.addName(t),e.target.value=""}},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.people,t=e.present?e.present.length:0,a=e.absent?e.absent.length:0,n=t+a;return r.a.createElement("div",{id:"attendance-wrapper"},r.a.createElement("h2",null,"People ",r.a.createElement("span",{className:"total-count"},"Total: ",n)),r.a.createElement("input",{type:"text",id:"name-input",name:"name",placeholder:"enter new name",onKeyDown:this.submitHandler,autoComplete:"off"}),r.a.createElement("div",{id:"attendance-lists"},r.a.createElement(g,{present:e.present,switch:this.props.toggleAttendance,paxCount:t}),r.a.createElement(v,{absent:e.absent,switch:this.props.toggleAttendance,paxCount:a,delete:this.props.deleteName})))}}]),t}(n.Component)),g=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.paxCount,a=null;t>0&&(a=this.props.present.sort(function(e,t){return e.localeCompare(t)}).map(function(t,a){return t=t.charAt(0).toUpperCase()+t.slice(1),r.a.createElement("div",{key:a,className:"name present",onClick:function(){e.props.switch("present",t,a)}},t)}));return r.a.createElement("div",{className:"tab"},r.a.createElement("h3",null,"Present: ",r.a.createElement("span",{className:"pax-count"},t)),r.a.createElement("div",{className:"names",id:"present"},a))}}]),t}(n.Component),v=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.paxCount,a=null;t>0&&(a=this.props.absent.sort(function(e,t){return e.localeCompare(t)}).map(function(t,a){return t=t.charAt(0).toUpperCase()+t.slice(1),r.a.createElement("div",{key:a,className:"absent-wrapper"},r.a.createElement("div",{className:"name absent",onClick:function(){e.props.switch("absent",t,a)}},t),r.a.createElement("span",{id:t,className:"trash",onClick:function(){e.props.delete(t,a)}},"X"))}));return r.a.createElement("div",{className:"tab"},r.a.createElement("h3",null,"Absent: ",r.a.createElement("span",{className:"pax-count"},t)),r.a.createElement("div",{className:"names",id:"absent"},a))}}]),t}(n.Component),b=d,E=a(22),j=a.n(E),O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={pax:1,custom:!1,bucketCount:1,shuffle:0,fullGroup:!1},a.changeHandler=function(e){a.setState({pax:parseInt(e.target.value)})},a.toggleCustom=function(){var e=!a.state.custom;a.setState({custom:e})},a.shuffleArray=function(e){for(var t=new j.a,a=e.length-1;a>0;a--){var n=Math.floor(t.random()*(a+1)),r=[e[n],e[a]];e[a]=r[0],e[n]=r[1]}return e},a.customGroups=function(e){if(13===e.keyCode){var t=e.target;a.setState({bucketCount:t.value},function(){t.value="",t.blur()})}},a.toggleFullGroup=function(){var e=!a.state.fullGroup;a.setState({fullGroup:e})},a.createBuckets=function(e){var t=[];if(a.state.custom){for(var n=a.state.bucketCount,r=Math.floor(e.length/n),o=r*n,s=e.length-o,c=0,l=0;c<n;c++,l+=r){var p=(c+1)*r;t[c]=e.slice(l,p)}if(s>0)for(var u=0;u<s;u++)t[u].push(e[o+u])}else{for(var i=a.state.pax,m=a.state.fullGroup?e.length%i:0,h=e.splice(0,m),f=0,d=e.length;f<d;f+=i){var g=e.slice(f,f+i);t.push(g)}if(a.state.fullGroup)for(var v=0;v<h.length;v++)t[v].push(h[v])}return console.log(t),t},a.renderBucket=function(e){return e.map(function(e,t){return e=e.charAt(0).toUpperCase()+e.slice(1),r.a.createElement("p",{key:t},e)})},a.shuffle=function(){var e=a.state.count;e++,a.setState({shuffle:e})},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=Object(p.a)(this.props.people.present),a=this.shuffleArray(t),n=this.createBuckets(a),o=n.map(function(t,a){return t=e.renderBucket(t),r.a.createElement("div",{key:a,className:"group"},r.a.createElement("p",{className:"group-index"},a+1),r.a.createElement("div",null,t))}),s=n.length,c=this.state.custom?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"No One Left Behind"),r.a.createElement("input",{type:"checkbox",onChange:this.toggleFullGroup}));return r.a.createElement("div",{id:"groupings-wrapper"},r.a.createElement("h2",null,"Groups ",r.a.createElement("span",{className:"total-count"},"Total: ",s)),r.a.createElement("div",{id:"grouping-menu"},r.a.createElement(C,{custom:this.state.custom,pax:this.state.pax,changeHandler:this.changeHandler,customGroups:this.customGroups}),r.a.createElement("button",{id:"shuffle",onClick:this.shuffle},"Shuffle"),r.a.createElement("div",null,r.a.createElement("label",null,"Custom Groups"),r.a.createElement("input",{type:"checkbox",onChange:this.toggleCustom}),c)),r.a.createElement("div",{id:"grouping-results"},o))}}]),t}(n.Component),C=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.custom?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"group-input",id:"custom-group",placeholder:"Custom no. of groups",onKeyDown:this.props.customGroups,autoComplete:"off"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{className:"group-input",id:"pax-group",defaultValue:this.props.pax,onChange:this.props.changeHandler},r.a.createElement("option",{value:"1"},"Pax per Group"),r.a.createElement("option",{value:"2"},"Pairs"),r.a.createElement("option",{value:"3"},"Threes"),r.a.createElement("option",{value:"4"},"Fours"),r.a.createElement("option",{value:"5"},"Fives")))}}]),t}(n.Component),w=O,y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={people:{present:[],absent:[]}},a.getNamesFromURL=function(){if(a.props.location.search.length>0){for(var e={present:[],absent:[]},t=a.props.location.search.replace("?","").replace(/%20/g," ").split("&"),n=0;n<t.length;n++){var r=t[n].split("=");r[1]&&(e[r[0]]=r[1].toLowerCase().split("+"))}a.setState({people:e})}},a.formNewURL=function(){var e=a.state.people,t=[];Object.keys(e).forEach(function(a,n){var r=e[a].join("+").replace(/ /g,"%20"),o=[a.concat("=",r)];t=[].concat(Object(p.a)(t),[o])}),t="?".concat(t.join("&")),a.props.history.push("/"+t)},a.addName=function(e){var t=a.state.people;t.present=[].concat(Object(p.a)(t.present),[e.toLowerCase()]),a.setState({people:t},function(){console.log("added!",a.state.people.present),a.formNewURL()})},a.toggleAttendance=function(e,t,n){var r=t.toLowerCase(),o=e,s=a.state.people;s[o].splice(n,1),"present"===o?s.absent=[].concat(Object(p.a)(s.absent),[r]):s.present=[].concat(Object(p.a)(s.present),[r]),a.setState({people:s},function(){a.formNewURL()})},a.deleteName=function(e,t){var n=a.state.people;n.absent.splice(t,1),a.setState({people:n},function(){a.formNewURL()})},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getNamesFromURL()}},{key:"render",value:function(){return r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(b,{people:this.state.people,addName:this.addName,toggleAttendance:this.toggleAttendance,deleteName:this.deleteName}),r.a.createElement(w,{people:this.state.people}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(c.a,{basename:"/"},r.a.createElement("div",{className:"page-wrapper"},r.a.createElement("h1",{id:"header"},"Really Really Random Groups"),r.a.createElement(l.a,{exact:!0,path:"/",component:y}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.1cc22d4f.chunk.js.map